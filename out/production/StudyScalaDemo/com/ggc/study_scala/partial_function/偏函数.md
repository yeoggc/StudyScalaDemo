
# 偏函数小结

- PartialFunction 是个特质，使用构建特质的实现类，使用的方式是 PartialFunction 的匿名子类
- 构建偏函数时，参数形式[Any, Int]是泛型，第一个表示参数类型，第二个表示返回参数
- 当使用偏函数时，会遍历集合的所有元素，编译器执行流程时先执行 isDefinedAt
    - 如果为 true 就会执行 apply，构建一个新的 Int 对象返回
    - 执行 isDefinedAt 为 false 就过滤掉这个元素，即不构建新的 Int 对象
- map 函数不支持偏函数，因为 map 底层的机制就是所有循环遍历，无法过滤处理原来集合的元素
- collect 函数支持偏函数